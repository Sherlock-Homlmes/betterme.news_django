{% load static %}
<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8">
  <title>Loading...</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/meyer-reset/2.0/reset.min.css">
<link rel="stylesheet" href="{% static 'css/loader_lion.css' %}">

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

</head>
<body>
<!-- partial:index.partial.html -->
<div class="tiger-wrap" id="lion-loader">
	<input 
		id="rawr" 
		aria-label="Flip tiger"
		class="tiger-control"
		type="checkbox" 
	>
	<label for="rawr" class="tiger">
		<div class="tiger-front">
			<div class="tiger-front-mask">
				<div class="tiger-head">
					<div class="tiger-face">
						<div class="tiger-eyebrow tiger-eyebrow-left"></div>
						<div class="tiger-eyebrow tiger-eyebrow-right"></div>
						<div class="tiger-eye tiger-eye-left"></div>
						<div class="tiger-eye tiger-eye-right"></div>
						<div class="tiger-nose"></div>
						<div class="tiger-snout"></div>
						<div class="tiger-blush tiger-blush-left"></div>
						<div class="tiger-blush tiger-blush-right"></div>
						<div class="tiger-face-fluff tiger-face-fluff-left"></div>
						<div class="tiger-face-fluff tiger-face-fluff-right"></div>
						<div class="tiger-face tiger-face-mask">
							<div class="tiger-stripes-top"></div>
							<div class="tiger-stripes-side tiger-stripes-side-left"></div>
							<div class="tiger-stripes-side tiger-stripes-side-right"></div>
						</div>
					</div>
					<div class="tiger-ear tiger-ear-left"></div>
					<div class="tiger-ear tiger-ear-right"></div>
				</div>
				<div class="tiger-body">
					<div class="tiger-chest"></div>
				</div>
			</div>
			<div class="tiger-paw tiger-paw-left"></div>
			<div class="tiger-paw tiger-paw-right"></div>
		</div>
		<div class="tiger-back">
			<div class="tiger-back-mask">
				<div class="tiger-body-back">
					<div class="tiger-rear">
						<div class="tiger-rear-stripes tiger-rear-stripes-left"></div>
						<div class="tiger-rear-stripes tiger-rear-stripes-right"></div>
					</div>
					<div class="tiger-tail-wrap">
						<div class="tiger-tail">
							<div class="tiger-tail-stripes"></div>
						</div>
					</div>
					<div class="tiger-cross"></div>
				</div>
			</div>
			<div class="tiger-paw-back tiger-paw-back-left">
				<div class="tiger-toe-beans"></div>
				<div class="tiger-toe-beans-main"></div>
			</div>
			<div class="tiger-paw-back tiger-paw-back-right">
				<div class="tiger-toe-beans"></div>
				<div class="tiger-toe-beans-main"></div>
			</div>
		</div>
	</label>
	<div class="tiger-decor-wrap">
		<div class="tiger-decor tiger-decor-1"></div>
		<div class="tiger-decor tiger-decor-2"></div>
		<div class="tiger-decor tiger-decor-3"></div>
	</div>
    <center><h1 style="font-size: 50px;color:white;">Loading...</h1></center>
</div>
<svg class="svg-filter-hide">
	<defs>
		<filter id="filterSquiggle1">
			<feTurbulence baseFrequency="0.02" numOctaves="3" seed="10" />
			<feDisplacementMap in="SourceGraphic" scale="1" />
		</filter>
		<filter id="filterSquiggle2">
			<feTurbulence baseFrequency="0.05" numOctaves="3" seed="10" />
			<feDisplacementMap in="SourceGraphic" scale="2.3" />
		</filter>
		<filter id="filterSquiggle3">
			<feTurbulence baseFrequency="0.04" numOctaves="3" seed="10" />
			<feDisplacementMap in="SourceGraphic" scale="1.5" />
		</filter>
		<filter id="filterSquiggle4">
			<feTurbulence baseFrequency="0.03" numOctaves="3" seed="10" />
			<feDisplacementMap in="SourceGraphic" scale="2" />
		</filter>
	</defs>
</svg>
<!-- partial -->

<div id="data-box">
    <h1> DATA </h1>
</div>

<script language="JavaScript" type="text/javascript">
    const lionLoader = document.getElementById('lion-loader');
    const dataBox = document.getElementById('data-box');

    function sleep(ms) {
    return new Promise(resolve => setTimeout(resolve, ms));
    }

    sleep(5000);

    $.ajax({
        type: 'GET',
        url: 'return-data/',
        success: function(response){
            lionLoader.classList.add('not-visible');
            console.log('load done');
            console.log('data:',response);
            for (const [key, value] of Object.entries(response)){
                const text = "<p>"+value.name+" </p><br><p>"+value.job+"</p><br>";
                $("#data-box").append(text);
            }
            
        },
        error: function(error){
            console.log('load fail');
        }


    })

</script>




</body>
</html>
